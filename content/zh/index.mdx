import Image from 'next/image'
import logo from '../../app/icon.svg'

<Image
  src={logo}
  alt="Nix4Loong Logo"
  className="mx-auto"
  width={200}
  height={200}
/>

# Nix4Loong

Nix4Loong 是由社区组织 [loongson-community](https://github.com/loongson-community/) 发起的项目，旨在将 Linux 发行版 NixOS 及其软件包集合 Nixpkgs 移植到新世界龙架构上，并完成充分的上游化工作。

## 关于 NixOS 和 Nixpkgs

NixOS 是一个基于 Nix 包管理器的 Linux 发行版，采用[声明式配置模型](https://nixos.org)。[它具有以下独特特性](https://nixos.org/guides/how-nix-works/)：

- **可重现性**：Nix 将软件包构建在相互隔离的环境中，确保它们可重现且没有未声明的依赖关系
- **声明式配置**：整个操作系统配置可以通过一个配置文件描述，易于共享和复制
- **原子升级和回滚**：系统更新是原子性的，可以轻松回滚到之前的配置状态
- **多版本共存**：可以同时安装同一软件包的多个版本，避免「DLL地狱」问题
- **纯函数式包管理**：所有软件包都存储在 `/nix/store` 目录下，每个包都有唯一的路径标识

[Nixpkgs](https://nixos.org) 是 Nix 生态系统的软件包集合，目前包含[超过 12 万个软件包](https://nixos.org)，是世界上最大的软件包仓库之一。与许多其它发行版的包管理器不同的是，**Nix 包管理器支持在各大主流发行版中运行，可直接安装和运行来自 Nixpkgs 的软件包**，为用户提供更加多样的软件包选择。

## 关于新世界龙架构

[龙架构（LoongArch）](https://zh.wikipedia.org/wiki/LoongArch)是由龙芯中科技术股份有限公司于 2020 年 8 月 首次公开发布的自主指令集架构。这是一个基于 RISC 设计理念的全新架构，具有以下特点：

- **完全自主**：完全自主设计的指令集架构，摒弃早期使用的 MIPS 架构
- **现代化设计**：32 位定长 RISC 指令集、32 个通用寄存器、32 个浮点/向量寄存器
- **兼容性支持**：通过硬件加速的二进制翻译技术，可高效运行 [x86](https://github.com/lat-opensource/lat)、[ARM](https://github.com/lat-opensource/lata) 等架构的程序
- **产业应用**：已在嵌入式设备、桌面计算机、服务器等多个领域得到应用

目前，龙架构的旗舰处理器是 3C6000 系列，其中 3C6000/S 型号配备 16 核 32 线程。龙芯中科[宣称](https://www.loongson.cn/news/show?id=757)其在 SPEC CPU 2017 基准测试中的性能达到了 2021 年发布的 [Intel Xeon Silver 4314](https://www.intel.com/content/www/us/en/products/sku/215269/intel-xeon-silver-4314-processor-24m-cache-2-40-ghz/specifications.html)（同为 16 核 32 线程）的水平。

需要注意的是，当前龙架构存在两套彼此不兼容的软件生态，分别被称为[「旧世界」和「新世界」](https://areweloongyet.com/docs/old-and-new-worlds/)：

- **旧世界**：最早在龙芯中科内部适配的、随着龙架构公开一并发布的软件生态，主要应用于麒麟、UOS 等商业发行版
- **新世界**：龙芯中科与开源社区协作打造的开源软件生态，被 [Arch Linux for Loong64](https://loongarchlinux.lcpu.dev/)、[Gentoo](https://wiki.gentoo.org/wiki/Project:LoongArch)、[AOSC OS](https://aosc.io/) 等主流发行版采用

新世界采用典型的开源社区协作模式开发，所有代码变更通常都会提交到上游项目，确保了更好的兼容性和可维护性。按照目前趋势，[旧世界将逐渐被新世界取代](https://areweloongyet.com/docs/old-and-new-worlds/)。Nix4Loong 项目专注于新世界龙架构，我们的适配工作将与国际开源社区标准保持一致，为龙架构用户提供最纯正的 NixOS 和 Nixpkgs 体验。

## 项目目标

Nix4Loong 项目致力于实现以下目标：

- 提供龙架构的 [NixOS 安装镜像](/zh/installation)
- 确保 Nixpkgs 相当数量的软件包能够在龙架构上正常工作
- 提供和维护龙架构 Nixpkgs 的[二进制缓存](/zh/usage)
- 搭建桥梁，让 Nix 社区能够参与构建龙架构软件生态

## 当前进展

目前，Nix4Loong 项目正在积极推进 Nixpkgs 软件包的龙架构适配工作，向上游合入了大量修改，并已成功构建出可正常运行的 NixOS 的安装镜像。我们的目标是在 Nixpkgs 25.11 发布之前（约 2025 年 11 月），将适配龙架构的修改全部合并到上游，同时确保相当数量的软件包能够正常构建和运行。

- 若要获取针对龙架构的 NixOS 安装镜像，请阅读[安装指南](/zh/installation)
- 若想参与 Nix4Loong 项目的开发工作，请阅读[贡献指南](/zh/contributing)

## 关于名称和组织

本项目的名称为 Nix4Loong，取自 Nix For LoongArch 之意，您也可使用全小写名称 nix4loong 来指代本项目。

请勿将本项目与 [Loongnix](https://www.loongnix.cn/zh/) 混淆，后者为龙芯开源社区推出的 Linux 发行版。本项目由社区组织 [loongson-community](https://github.com/loongson-community/) 发起，请勿将本组织与龙芯中科的龙芯开源社区和[龙芯爱好者社区](https://www.loongbbs.cn/)等组织混淆。

Nix4Loong 项目与龙芯中科官方无任何隶属或合作关系，完全由开源社区自发组织和维护。本项目的所有适配、开发和维护工作均由社区志愿者完成，欢迎任何个人或团体参与贡献。
